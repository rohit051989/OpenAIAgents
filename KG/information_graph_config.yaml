# Information Graph Configuration
# This file helps identify the hierarchy of code structure

# Root directory to scan
root_directory: "D:\\Iris\\practice\\GenAI\\code\\Batch_KG\\sample_code"

# Define repositories - each repo should have a unique identifier
repositories:
  - name: "repo1"
    path: "D:\\Iris\\practice\\GenAI\\code\\Batch_KG\\sample_code\\repo1"
    type: "repository"
    
  - name: "repo2"
    path: "D:\\Iris\\practice\\GenAI\\code\\Batch_KG\\sample_code\\repo2"
    type: "repository"

# Projects, Folders, and Packages are AUTO-DETECTED:
# - Project: Any directory containing pom.xml or build.gradle
# - Folder: Any directory that's not a project or package
# - Package: Directories in src/main/java or src/test/java until .java files
    

# File type identification rules
file_type_rules:
  java_class:
    extensions: [".java"]
    exclude_patterns: ["Test\\.java$", "IT\\.java$", "TestCase\\.java$"]
    locations: ["src/main/java", "src/java", "src"]
    
  java_test_class:
    extensions: [".java"]
    include_patterns: ["Test\\.java$", "IT\\.java$", "TestCase\\.java$"]
    locations: ["src/test/java", "test", "src/test"]
    
  pom_file:
    exact_names: ["pom.xml"]
  
  web_xml_file:
    exact_names: ["web.xml"]
    
  spring_config:
    # Spring XML files are identified by checking for Spring namespaces in XML content
    # Only XML files can be Spring bean configuration files
    extensions: [".xml"]
    exclude_patterns: ["pom\\.xml$", "web\\.xml$"]
    # Will be validated by _is_spring_xml() method during file type identification
    
  property_file:
    extensions: [".properties", ".env"]
    locations: ["src/main/resources", "resources", "config"]
    
  xml_config:
    # Generic XML config files (Spring XMLs are auto-detected by namespace)
    extensions: [".xml"]
    exclude_patterns: ["pom\\.xml$", "web\\.xml$"]
    
  docker_file:
    exact_names: ["Dockerfile", "docker-compose.yml", ".dockerignore"]
    
  ci_cd_file:
    exact_names: ["azure-pipelines.yml", "azure-pipelines-artifactory-onprem.yml", "Jenkinsfile", ".gitlab-ci.yml"]
    include_patterns: [".github/workflows/.*\\.yml$"]

# Directories to skip during scanning
skip_directories:
  - ".git"
  - "__pycache__"
  - "node_modules"
  - ".venv"
  - "venv"
  - "target"
  - "build"
  - ".idea"
  - ".vscode"
  - "bin"
  - "obj"
  - ".gradle"
  - "out"

# Files to skip during scanning (exact names or patterns)
skip_files:
  - ".gitignore"
  - ".gitattributes"
  - ".editorconfig"
  - ".DS_Store"
  - "Thumbs.db"
  - ".env"
  - ".env.local"
  - ".env.development"
  - ".env.test"
  - ".env.production"
  - "*.log"
  - "*.tmp"
  - "*.bak"
  - "*.swp"
  - "*~"
  - ".npmrc"
  - ".yarnrc"
  - "package-lock.json"
  - "yarn.lock"
  - ".classpath"
  - ".project"

# Neo4j connection settings
neo4j:
  uri: "bolt://localhost:7687"
  user: "neo4j"
  password: "Rohit@123"
  database_ig: "informationgraph"
  database_kg: "knowledgegraph"

# Scanning options
scan_options:
  max_depth: 20
  follow_symlinks: false
  parse_java_classes: true  # Parse Java files to extract ClassInfo
  extract_imports: true
  extract_methods: true

# Class data configuration
class_data:
  excel_file: "sample_data/class_level_data_1.xlsx"

# Instance data configuration
instance_data:
  excel_file: "sample_data/instance_level_data_v3.xlsx"
